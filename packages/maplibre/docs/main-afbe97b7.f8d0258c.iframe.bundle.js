"use strict";(self.webpackChunk_mapcomponents_react_maplibre=self.webpackChunk_mapcomponents_react_maplibre||[]).push([[965],{27984:(t,e,r)=>{r.d(e,{Z:()=>u});var n=r(20184),o=r.n(n),a=r(81969),i=r.n(a)()(o());i.push([t.id,"#root {\n  background-color: #000;\n  position: absolute;\n  min-height: 400px;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.docs-story {\n  min-height: 400px;\n  display: flex;\n  align-items: stretch;\n}\n.docs-story > div:first-child {\n  width: 100%;\n}\n\n.App {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.fullscreen_map .mapContainer {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 100;\n}\n\n","",{version:3,sources:["webpack://./src/decorators/style.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,iBAAiB;EACjB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;AACV;AACA;EACE,iBAAiB;EACjB,aAAa;EACb,oBAAoB;AACtB;AACA;EACE,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;AACT;AACA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,OAAO;EACP,SAAS;EACT,YAAY;AACd",sourcesContent:["#root {\n  background-color: #000;\n  position: absolute;\n  min-height: 400px;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.docs-story {\n  min-height: 400px;\n  display: flex;\n  align-items: stretch;\n}\n.docs-story > div:first-child {\n  width: 100%;\n}\n\n.App {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.fullscreen_map .mapContainer {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 100;\n}\n\n"],sourceRoot:""}]);const u=i},36746:(t,e,r)=>{var n=r(67851),o=r.n(n),a=r(27984);o()(a.Z,{insert:"head",singleton:!1}),a.Z.locals},32680:(t,e,r)=>{r.r(e),r.d(e,{ExampleConfig:()=>O,__namedExportsOrder:()=>E,default:()=>h});var n=r(2784),o=r(86587),a=r(86104),i=r(99146),u=r(72642),l=r(33797),c=r(2658),s=r(33955),p=r(7443),m=r(42962);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const h={title:"Hooks/useCameraFollowPath",component:o.Z,argTypes:{},decorators:i.Z};var S={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[7.10942788610961,50.708209240168],[7.10966149846967,50.7088867160122],[7.10910082880551,50.7108256986007],[7.10856352037736,50.7126945974813],[7.1083532692533,50.7142598002937],[7.10814301812924,50.7160118929942],[7.10793276700518,50.7169463424345],[7.10776923835314,50.7176004570426],[7.10713848498096,50.718838602551],[7.10699831756492,50.7199599418793],[7.106900786313568,50.72118132611057]]}},w=[{value:15,label:"15"},{value:16,label:"16"},{value:17,label:"17"},{value:18,label:"18"},{value:19,label:"19"},{value:20,label:"20"}],O=function(){var t=b((0,n.useState)({pause:!0,zoom:18,speed:1,pitch:60}),2),e=t[0],r=t[1],i=(0,o.Z)({route:S,pause:e.pause,pitch:e.pitch,zoom:e.zoom,speed:e.speed}),f=b((0,n.useState)(!0),2),d=f[0],v=f[1],g=b((0,n.useState)(!0),2),h=g[0],O=g[1];return n.createElement(n.Fragment,null,n.createElement(a.Z,{buttons:n.createElement(u.Z,{variant:h?"contained":"outlined",onClick:function(){return O(!h)},sx:{marginRight:{xs:"0px",sm:"10px"}}},"Camera Settings")}),n.createElement(m.Z,{open:h,setOpen:O,name:"Camera Settings"},n.createElement(l.Z,{onClick:function(){return v(!d)}},n.createElement(c.Z,null,d?"Route ausblenden":"Route einblenden")),d?n.createElement(p.Z,{geojson:S,type:"line",paint:{"line-width":2,"line-color":"blue"}}):null,n.createElement(l.Z,{disabled:!e.pause,onClick:function(){return r((function(t){return y(y({},t),{},{pause:!1})}))}},n.createElement(c.Z,null,"Start")),n.createElement(l.Z,{disabled:e.pause,onClick:function(){return r((function(t){return y(y({},t),{},{pause:!0})}))}},n.createElement(c.Z,null,"Pause")),n.createElement(l.Z,{onClick:function(){r((function(t){return y(y({},t),{},{pause:!0,pitch:60,zoom:18,speed:1})})),setTimeout((function(){i.reset()}),50)}},n.createElement(c.Z,null,"Reset")),n.createElement(l.Z,null,n.createElement(c.Z,{id:"discrete-slider",style:{marginLeft:"10px",marginRight:"10px"}},n.createElement(c.Z,null,"Zoom:")),n.createElement(s.ZP,{value:e.zoom,onChange:function(t,e){r((function(t){return y(y({},t),{},{zoom:Number(e)})}))},getAriaValueText:function(t){return t.toString()},"aria-labelledby":"discrete-slider",step:1,marks:w,min:15,max:20,sx:{marginTop:"20px",paddingBottom:"20px",marginRight:"10px",maxWidth:"200px",minWidth:"150px"}})),n.createElement(l.Z,null,n.createElement(c.Z,{id:"discrete-slider2",style:{marginLeft:"10px",marginRight:"10px"}},"Speed:"),n.createElement(s.ZP,{value:e.speed,onChange:function(t,e){r((function(t){return y(y({},t),{},{speed:Number(e)})}))},getAriaValueText:function(t){return t.toString()},"aria-labelledby":"discrete-slider2",step:.1,marks:!0,min:.1,max:2,sx:{marginRight:"10px",maxWidth:"200px",minWidth:"150px"}})),n.createElement(l.Z,{onClick:function(){0===e.pitch?r((function(t){return y(y({},t),{},{pitch:60})})):r((function(t){return y(y({},t),{},{pitch:0})}))}},n.createElement(c.Z,null,0===e.pitch?"3D":"2D"))))}.bind({});O.parameters={},O.args={},O.parameters=y({storySource:{source:"() => {\n\tconst [state, setState] = useState({ pause: true, zoom: 18, speed: 1, pitch: 60 });\n\n\tconst CameraFollowPath = useCameraFollowPath({\n\t\troute: routeJson,\n\t\tpause: state.pause,\n\t\tpitch: state.pitch,\n\t\tzoom: state.zoom,\n\t\tspeed: state.speed,\n\t});\n\n\tconst [showRoute, setShowRoute] = useState(true);\n\tconst [openSidebar, setOpenSidebar] = useState(true);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar\n\t\t\t\tbuttons={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant={openSidebar ? 'contained' : 'outlined'}\n\t\t\t\t\t\tonClick={() => setOpenSidebar(!openSidebar)}\n\t\t\t\t\t\tsx={{ marginRight: { xs: '0px', sm: '10px' } }}\n\t\t\t\t\t>\n\t\t\t\t\t\tCamera Settings\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Sidebar\n\t\t\t\topen={openSidebar}\n\t\t\t\tsetOpen={setOpenSidebar}\n\t\t\t\tname={'Camera Settings'}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={() => setShowRoute(!showRoute)}>\n\t\t\t\t\t<Typography>{showRoute ? 'Route ausblenden' : 'Route einblenden'}</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t\t{showRoute ? (\n\t\t\t\t\t<MlGeoJsonLayer\n\t\t\t\t\t\tgeojson={routeJson}\n\t\t\t\t\t\ttype=\"line\"\n\t\t\t\t\t\tpaint={{\n\t\t\t\t\t\t\t'line-width': 2,\n\t\t\t\t\t\t\t'line-color': 'blue',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t<MenuItem\n\t\t\t\t\tdisabled={!state.pause}\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\treturn { ...current, pause: false };\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Typography>Start</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem\n\t\t\t\t\tdisabled={state.pause}\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\treturn { ...current, pause: true };\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Typography>Pause</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\treturn { ...current, pause: true, pitch: 60, zoom: 18, speed: 1 };\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tCameraFollowPath.reset();\n\t\t\t\t\t\t}, 50);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography>Reset</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem>\n\t\t\t\t\t<Typography id=\"discrete-slider\" style={{ marginLeft: '10px', marginRight: '10px' }}>\n\t\t\t\t\t\t<Typography>Zoom:</Typography>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tvalue={state.zoom}\n\t\t\t\t\t\tonChange={(ev, value) => {\n\t\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\t\treturn { ...current, zoom: Number(value) };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgetAriaValueText={(value) => value.toString()}\n\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\n\t\t\t\t\t\t//valueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\tmin={15}\n\t\t\t\t\t\tmax={20}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tmarginTop: '20px',\n\t\t\t\t\t\t\tpaddingBottom: '20px',\n\t\t\t\t\t\t\tmarginRight: '10px',\n\t\t\t\t\t\t\tmaxWidth: '200px',\n\t\t\t\t\t\t\tminWidth: '150px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem>\n\t\t\t\t\t<Typography id=\"discrete-slider2\" style={{ marginLeft: '10px', marginRight: '10px' }}>\n\t\t\t\t\t\tSpeed:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tvalue={state.speed}\n\t\t\t\t\t\tonChange={(ev, value) => {\n\t\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\t\treturn { ...current, speed: Number(value) };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgetAriaValueText={(value) => value.toString()}\n\t\t\t\t\t\taria-labelledby=\"discrete-slider2\"\n\t\t\t\t\t\t//valueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\tmarks\n\t\t\t\t\t\tmin={0.1}\n\t\t\t\t\t\tmax={2}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tmarginRight: '10px',\n\t\t\t\t\t\t\tmaxWidth: '200px',\n\t\t\t\t\t\t\tminWidth: '150px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (state.pitch === 0) {\n\t\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\t\treturn { ...current, pitch: 60 };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\t\treturn { ...current, pitch: 0 };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography>{state.pitch === 0 ? '3D' : '2D'}</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t</Sidebar>\n\t\t</>\n\t);\n}"}},O.parameters);var E=["ExampleConfig"]},14697:(t,e,r)=>{r.r(e),r.d(e,{ExampleConfig:()=>s,__namedExportsOrder:()=>p,default:()=>c});var n=r(2784),o=r(19698),a=r(99146);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const c={title:"Hooks/useGpx",component:o.Z,argTypes:{},decorators:a.Z};var s=function(){return n.createElement("useGpx",null)}.bind({});s.parameters={},s.args={},s.parameters=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({storySource:{source:"() => <useGpx />"}},s.parameters);var p=["ExampleConfig"]},69309:(t,e,r)=>{r.r(e),r.d(e,{ExampleConfig:()=>m,__namedExportsOrder:()=>f,default:()=>p});var n=r(2784),o=r(78951),a=r(99146),i=r(7443),u=r(52124);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const p={title:"hooks/useLayerFilter",component:o.Z,argTypes:{},decorators:a.Z};var m=function(t){return(0,o.Z)({layerId:"filter_test",filter:["==","name",t.filter_name]}),n.createElement(i.Z,{layerId:"filter_test",geojson:u})}.bind({});m.parameters={},m.args={filter_name:"Mauspfad"},m.argTypes={filter_name:{options:["Mauspfad","Windeckstraße","Münsterplatz","Postrstraße","In der Sürst","Remiglustraße"],control:{type:"radio"}}},m.parameters=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({storySource:{source:"(args: { filter_name: string }) => {\n\tuseLayerFilter({ layerId: 'filter_test', filter: ['==', 'name', args.filter_name] });\n\treturn <MlGeoJsonLayer layerId=\"filter_test\" geojson={sample as FeatureCollection} />;\n}"}},m.parameters);var f=["ExampleConfig"]},37748:(t,e,r)=>{r.r(e),r.d(e,{ExampleConfig:()=>s,__namedExportsOrder:()=>p,default:()=>c});var n=r(2784),o=r(29347),a=r(99146);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const c={title:"Hooks/useLayerHoverPopup",component:o.Z,argTypes:{},decorators:a.Z};var s=function(){return n.createElement("useLayerHoverPopup",null)}.bind({});s.parameters={},s.args={},s.parameters=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({storySource:{source:"() => <useLayerHoverPopup />"}},s.parameters);var p=["ExampleConfig"]},77896:(t,e,r)=>{r.r(e),r.d(e,{IncludeBaseLayers:()=>f,MatchLayerIdRegexp:()=>y,MatchLayerIdString:()=>d,NonBaseLayersOnly:()=>v,ViewportOnly:()=>m,__namedExportsOrder:()=>b,default:()=>s});var n=r(2784),o=r(57058),a=r(80732);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const s={title:"Hooks/useMapState",component:o.Z,argTypes:{},decorators:a.Z};var p=function(t){var e=(0,o.Z)(l({},t));return(0,n.useEffect)((function(){}),[e.layers]),n.createElement(n.Fragment,null,n.createElement("div",{style:{position:"fixed",zIndex:1e4,display:"flex",flexWrap:"wrap",top:0,left:0,right:0,bottom:0,maxHeight:"100VH",backgroundColor:"rgba(80,80,80,.8)",padding:"50px",fontSize:"20px",color:"#51ff09",overflow:"hidden",pointerEvents:"none"}},n.createElement("pre",null,JSON.stringify(e,null,"\t"))))},m=p.bind({});m.parameters={},m.args={mapId:"map_1",watch:{viewport:!0,layers:!1,sources:!1}};var f=p.bind({});f.parameters={},f.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!0}};var d=p.bind({});d.parameters={},d.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!0,matchLayerIds:"water"}};var y=p.bind({});y.parameters={},y.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!0,matchLayerIds:/water/}};var v=p.bind({});v.parameters={},v.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!1}},m.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},m.parameters),f.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},f.parameters),d.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},d.parameters),y.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},y.parameters),v.parameters=l({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},v.parameters);var b=["ViewportOnly","IncludeBaseLayers","MatchLayerIdString","MatchLayerIdRegexp","NonBaseLayersOnly"]},86269:(t,e,r)=>{r.r(e),r.d(e,{__namedExportsOrder:()=>x,default:()=>h,removeSourceExample:()=>E,useGeojsonSourceExample:()=>S,useRasterSourceExample:()=>O,useVectorSourceExample:()=>w});var n=r(5284),o=r(2784),a=r(61401),i=r(57058),u=r(47415),l=r(86104),c=r(72642),s=r(16751),p=r(80732);const m=JSON.parse('{"type":"Feature","geometry":{"type":"Point","coordinates":[7.0851268,50.73884],"properties":{"title":"Bonn"}}}');function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const h={title:"Hooks/useSource",component:n.Z,argTypes:{},decorators:p.Z};var S=function(t){var e=(0,n.Z)(b({},t)).source;return(0,u.Z)({mapId:t.mapId,layerId:"layer1",options:{source:null!=e&&e.id?e.id:"",type:"circle",paint:{"circle-radius":6,"circle-color":"red"}}}),(0,u.Z)({mapId:t.mapId,layerId:"layer2",options:{source:null!=e&&e.id?e.id:"",type:"circle",paint:{"circle-radius":4,"circle-color":"green"}}}),o.createElement(o.Fragment,null)}.bind({});S.args={mapId:"map_1",sourceId:"geojson-source",source:{type:"geojson",data:m}};var w=function(t){(0,n.Z)(b({},t));var e=(0,a.Z)({mapId:t.mapId});return(0,o.useEffect)((function(){e.map&&(e.map.addLayer({id:"vector-lineLayer",type:"line",source:t.sourceId,minzoom:0,maxzoom:22,"source-layer":"landuse",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":2,"line-color":"#ff0000"}},!1,e.componentId),e.map.addLayer({id:"vector-FillLayer",type:"fill",source:t.sourceId,minzoom:0,maxzoom:22,"source-layer":"landuse",paint:{"fill-color":"#32a850","fill-opacity":.4}},!1,e.componentId))}),[e.map]),o.createElement(o.Fragment,null)}.bind({});w.args={mapId:"map_1",sourceId:"vector-source",source:{type:"vector",tiles:["https://wms.wheregroup.com/tileserver/tile/tileserver.php?/europe-0-14/index.json?/europe-0-14/{z}/{x}/{y}.pbf"],tilesize:512,attribution:""}};var O=function(t){(0,n.Z)(b({},t));var e=(0,a.Z)({mapId:t.mapId});return(0,o.useEffect)((function(){e.map&&e.map.addLayer({id:"raster-wms",type:"raster",source:t.sourceId,minzoom:0,maxzoom:22},!1,e.componentId)}),[e.map]),o.createElement(o.Fragment,null)}.bind({});O.args={mapId:"map_1",sourceId:"raster-source",source:{type:"raster",tiles:["https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&width=256&height=256&styles=&layers=nw_uraufnahme_rw"],tilesize:256,attribution:""}};var E=function(t){var e=d((0,o.useState)(!0),2),r=e[0],n=e[1],u=d((0,o.useState)([]),2),p=u[0],m=u[1],f=(0,a.Z)({mapId:t.mapId}),y=(0,i.Z)({mapId:t.mapId,watch:{viewport:!1,layers:!0,sources:!0},filter:{includeBaseLayers:!1}});return(0,o.useEffect)((function(){f.map&&f.map.map.on("sourcedata",(function(){var t,e,r,n;null!=f&&null!==(t=f.map)&&void 0!==t&&null!==(e=t.map)&&void 0!==e&&e.style.sourceCaches&&m(Object.keys(null==f||null===(r=f.map)||void 0===r||null===(n=r.map)||void 0===n?void 0:n.style.sourceCaches))}))}),[f.map]),o.createElement(o.Fragment,null,o.createElement(l.Z,{buttons:o.createElement(c.Z,{color:"primary",variant:r?"contained":"outlined",onClick:function(){return n(!r)}},"Ml GeoJsonLayer With Source JSX Active?")}),r&&o.createElement(s.Z,null),o.createElement("div",{style:{position:"fixed",zIndex:1290,display:"flex",flexWrap:"wrap",top:"62px",left:0,right:0,bottom:0,maxHeight:"100VH",backgroundColor:"rgba(80,80,80,.8)",padding:"50px",fontSize:"20px",color:"#51ff09",overflow:"hidden",pointerEvents:"none"}},(null==p?void 0:p.length)>0&&o.createElement("div",null,"Active sources: ",o.createElement("br",null)," ",JSON.stringify(p,null,"  "),o.createElement("br",null)," ",o.createElement("br",null)," Active layers : ",o.createElement("pre",null,JSON.stringify(y,null,"  ")))))}.bind({});E.args={mapId:"map_1"},S.parameters=b({storySource:{source:"(args) => {\n\tconst { source } = useSource({ ...args });\n\n\tuseLayer({\n\t\tmapId: args.mapId,\n\t\tlayerId: 'layer1',\n\t\toptions: {\n\t\tsource: source?.id ? source.id : '',\n\t\t\ttype: 'circle',\n\t\t\tpaint: {\n\t\t\t\t'circle-radius': 6,\n\t\t\t\t'circle-color': 'red',\n\t\t\t},\n\t\t},\n\t});\n\tuseLayer({\n\t\tmapId: args.mapId,\n\t\tlayerId: 'layer2',\n\t\toptions: {\n\t\tsource: source?.id ? source.id : '',\n\t\t\ttype: 'circle',\n\t\t\tpaint: {\n\t\t\t\t'circle-radius': 4,\n\t\t\t\t'circle-color': 'green',\n\t\t\t},\n\t\t},\n\t});\n\treturn <></>;\n}"}},S.parameters),w.parameters=b({storySource:{source:"(args) => {\n\tuseSource({ ...args });\n\tconst mapHook = useMap({\n\t\tmapId: args.mapId,\n\t});\n\tuseEffect(() => {\n\t\tif (!mapHook.map) return;\n\t\tmapHook.map.addLayer(\n\t\t\t{\n\t\t\t\tid: 'vector-lineLayer',\n\t\t\t\ttype: 'line',\n\t\t\t\tsource: args.sourceId,\n\t\t\t\tminzoom: 0,\n\t\t\t\tmaxzoom: 22,\n\t\t\t\t'source-layer': 'landuse',\n\t\t\t\tlayout: {\n\t\t\t\t\t'line-cap': 'round',\n\t\t\t\t\t'line-join': 'round',\n\t\t\t\t},\n\t\t\t\tpaint: { 'line-width': 2, 'line-color': '#ff0000' },\n\t\t\t},\n\t\t\tfalse,\n\t\t\tmapHook.componentId\n\t\t);\n\t\tmapHook.map.addLayer(\n\t\t\t{\n\t\t\t\tid: 'vector-FillLayer',\n\t\t\t\ttype: 'fill',\n\t\t\t\tsource: args.sourceId,\n\t\t\t\tminzoom: 0,\n\t\t\t\tmaxzoom: 22,\n\t\t\t\t'source-layer': 'landuse',\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-color': '#32a850',\n\t\t\t\t\t'fill-opacity': 0.4,\n\t\t\t\t},\n\t\t\t},\n\t\t\tfalse,\n\t\t\tmapHook.componentId\n\t\t);\n\t}, [mapHook.map]);\n\treturn <></>;\n}"}},w.parameters),O.parameters=b({storySource:{source:"(args) => {\n\tuseSource({ ...args });\n\tconst mapHook = useMap({\n\t\tmapId: args.mapId,\n\t});\n\tuseEffect(() => {\n\t\tif (!mapHook.map) return;\n\t\tmapHook.map.addLayer(\n\t\t\t{\n\t\t\t\tid: 'raster-wms',\n\t\t\t\ttype: 'raster',\n\t\t\t\tsource: args.sourceId,\n\t\t\t\tminzoom: 0,\n\t\t\t\tmaxzoom: 22,\n\t\t\t},\n\t\t\tfalse,\n\t\t\tmapHook.componentId\n\t\t);\n\t}, [mapHook.map]);\n\treturn <></>;\n}"}},O.parameters),E.parameters=b({storySource:{source:"(args) => {\n\tconst [sourceStatus, setSourceStatus] = useState(true);\n\tconst [activeSources, setActiveSources] = useState([]);\n\tconst mapHook = useMap({\n\t\tmapId: args.mapId,\n\t});\n\n\tconst mapState = useMapState({\n\t\tmapId: args.mapId,\n\t\twatch: {\n\t\t\tviewport: false,\n\t\t\tlayers: true,\n\t\t\tsources: true,\n\t\t},\n\t\tfilter: {\n\t\t\tincludeBaseLayers: false,\n\t\t},\n\t});\n\n\tuseEffect(() => {\n\t\tif (!mapHook.map) {\n\t\t\treturn;\n\t\t}\n\n\t\tmapHook.map.map.on('sourcedata', () => {\n\t\t\tif (mapHook?.map?.map?.style.sourceCaches) {\n\t\t\t\tsetActiveSources(Object.keys(mapHook?.map?.map?.style.sourceCaches));\n\t\t\t}\n\t\t});\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar\n\t\t\t\tbuttons={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant={sourceStatus ? 'contained' : 'outlined'}\n\t\t\t\t\t\tonClick={() => setSourceStatus(!sourceStatus)}\n\t\t\t\t\t>\n\t\t\t\t\t\tMl GeoJsonLayer With Source JSX Active?\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{sourceStatus && <MlGeojsonLayerWithSource></MlGeojsonLayerWithSource>}\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\tzIndex: 1290,\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tflexWrap: 'wrap',\n\t\t\t\t\ttop: '62px',\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight: '100VH',\n\t\t\t\t\tbackgroundColor: 'rgba(80,80,80,.8)',\n\t\t\t\t\tpadding: '50px',\n\t\t\t\t\tfontSize: '20px',\n\t\t\t\t\tcolor: '#51ff09',\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{activeSources?.length > 0 && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\tActive sources: <br></br> {JSON.stringify(activeSources, null, '  ')}\n\t\t\t\t\t\t<br></br> <br></br> Active layers : {}\n\t\t\t\t\t\t<pre>{JSON.stringify(mapState, null, '  ')}</pre>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}"}},E.parameters);var x=["useGeojsonSourceExample","useVectorSourceExample","useRasterSourceExample","removeSourceExample"]},57752:(t,e,r)=>{r.d(e,{Z:()=>c});var n=r(2784),o=r(54524),a=r(10733),i=(r(36746),r(45962)),u=r(49164),l=r(635);const c=[function(t,e){var r,c=(0,n.useMemo)((function(){var t;return(0,l.Z)(null==e||null===(t=e.globals)||void 0===t?void 0:t.theme)}),[null==e||null===(r=e.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(u.Z,{theme:c},n.createElement(t,null),n.createElement(a.Z,{mapId:"map_1",options:{zoom:12.5,center:[7.0851268,50.73884]}}),n.createElement(i.Z,{sx:{bottom:"25px",right:"5px"},showZoomButtons:!1,mapId:"map_1"}))))}]},99146:(t,e,r)=>{r.d(e,{Z:()=>c});var n=r(2784),o=r(54524),a=r(10733),i=(r(36746),r(45962)),u=r(49164),l=r(635);const c=[function(t,e){var r,c=(0,n.useMemo)((function(){var t;return(0,l.Z)(null==e||null===(t=e.globals)||void 0===t?void 0:t.theme)}),[null==e||null===(r=e.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(u.Z,{theme:c},n.createElement(t,null),n.createElement(a.Z,{options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]},mapId:"map_1"}),n.createElement(i.Z,{sx:{bottom:"25px",right:"5px"},showZoomButtons:!1,mapId:"map_1"}))))}]},80732:(t,e,r)=>{r.d(e,{Z:()=>c});var n=r(2784),o=r(54524),a=r(10733),i=(r(36746),r(45962)),u=r(49164),l=r(635);const c=[function(t,e){var r,c=(0,n.useMemo)((function(){var t;return(0,l.Z)(null==e||null===(t=e.globals)||void 0===t?void 0:t.theme)}),[null==e||null===(r=e.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(u.Z,{theme:c},n.createElement(t,null),n.createElement(a.Z,{options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]},mapId:"map_1"}),n.createElement(i.Z,{sx:{bottom:"25px",right:"5px"},showZoomButtons:!1,mapId:"map_1"}))))}]},95611:(t,e,r)=>{r.d(e,{Z:()=>c});var n=r(2784),o=r(54524),a=r(10733),i=(r(36746),r(45962)),u=r(49164),l=r(635);const c=[function(t,e){var r,c=(0,n.useMemo)((function(){var t;return(0,l.Z)(null==e||null===(t=e.globals)||void 0===t?void 0:t.theme)}),[null==e||null===(r=e.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(u.Z,{theme:c},n.createElement("div",{style:{overflow:"hidden",position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}},n.createElement(t,null),n.createElement("div",{className:"maps"},n.createElement(a.Z,{mapId:"map_1",options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-liberty.json",center:[7.0851268,50.73884]}}),n.createElement(a.Z,{mapId:"map_2",options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]}}),n.createElement(i.Z,{showZoomButtons:!1,mapId:"map_1"}))))))}]},73075:(t,e,r)=>{r.d(e,{Z:()=>l});var n=r(2784),o=r(54524),a=r(10733),i=(r(36746),r(49164)),u=r(635);const l=[function(t,e){var r,l=(0,n.useMemo)((function(){var t;return(0,u.Z)(null==e||null===(t=e.globals)||void 0===t?void 0:t.theme)}),[null==e||null===(r=e.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(i.Z,{theme:l},n.createElement(t,null),n.createElement(a.Z,{options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]},mapId:"map_1"}))))}]},11129:(t,e,r)=>{r.d(e,{Z:()=>l});var n=r(2784),o=r(54524),a=r(10733),i=(r(36746),r(49164)),u=r(635);const l=[function(t,e){var r,l=(0,n.useMemo)((function(){var t;return(0,u.Z)(null==e||null===(t=e.globals)||void 0===t?void 0:t.theme)}),[null==e||null===(r=e.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(i.Z,{theme:l},n.createElement(t,null),n.createElement(a.Z,{options:{zoom:3,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[4.5424,39.44518]},mapId:"map_1"}))))}]},70300:(t,e,r)=>{r.d(e,{Z:()=>u});var n=r(2784),o=r(54524),a=(r(36746),r(49164)),i=r(635);const u=[function(t,e){var r,u=(0,n.useMemo)((function(){var t;return(0,i.Z)(null==e||null===(t=e.globals)||void 0===t?void 0:t.theme)}),[null==e||null===(r=e.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(a.Z,{theme:u},n.createElement(t,null))))}]},86587:(t,e,r)=>{r.d(e,{Z:()=>u});var n=r(2784),o=r(12642),a=r(61401),i=function(t){var e=(0,n.useRef)(!1),r=(0,n.useRef)(t.pause),i=(0,n.useRef)(t.zoom),u=(0,n.useRef)(t.pitch),l=(0,n.useRef)(1),c=(0,n.useRef)(t.speed),s=(0,n.useRef)(),p=t.kmPerStep||.01,m=o.sIr(t.route),f=t.stepDuration||70,d=(0,a.Z)({mapId:t.mapId,waitForLayer:t.insertBeforeLayer});(0,n.useEffect)((function(){r.current=t.pause,r.current||g()}),[t.pause]),(0,n.useEffect)((function(){d.map&&(i.current=t.zoom,void 0!==i.current&&d.map.map.getZoom()!==i.current&&d.map.map.setZoom(i.current))}),[d.map,t.zoom]),(0,n.useEffect)((function(){d.map&&(u.current=t.pitch,void 0!==u.current&&u.current!==d.map.map.getPitch()&&d.map.map.setPitch(u.current))}),[d.map,t.pitch]),(0,n.useEffect)((function(){c.current=t.speed}),[t.speed]);var y=(0,n.useCallback)((function(){d.map&&(d.map.map.scrollZoom.disable(),d.map.map.boxZoom.disable(),d.map.map.dragRotate.disable(),d.map.map.dragPan.disable(),d.map.map.keyboard.disable(),d.map.map.doubleClickZoom.disable(),d.map.map.touchZoomRotate.disable())}),[d.map]),v=(0,n.useCallback)((function(){d.map&&(d.map.map.scrollZoom.enable(),d.map.map.boxZoom.enable(),d.map.map.dragRotate.enable(),d.map.map.dragPan.enable(),d.map.map.keyboard.enable(),d.map.map.doubleClickZoom.enable(),d.map.map.touchZoomRotate.enable())}),[d.map]);function b(){if(d.map&&t.route){var e,r=o.VWR(t.route);r&&r.length>3&&(e=[[r[0],r[1]],[r[2],r[3]]],d.map.map.fitBounds(e,{padding:100}))}}function g(){if(d.map)if(r.current)v();else{y(),void 0!==i.current&&d.map.map.getZoom()!==i.current&&d.map.map.setZoom(i.current);var e=o.$1t(t.route,l.current*p).geometry.coordinates;l.current*p<m?(d.map.map.easeTo({center:e,bearing:o.Y30(o.xmu([d.map.map.getCenter().lng,d.map.map.getCenter().lat]),o.xmu(e)),duration:f,essential:!0}),void 0!==c.current?l.current=l.current+c.current:l.current++,console.log("PAN MOVE"),setTimeout((function(){g()}),100)):(d.map.map.setPitch(0),b(),v(),console.log("ENABLE CONTROLS"),l.current=1)}}return(0,n.useEffect)((function(){d.map&&!e.current&&(e.current=!0,b())}),[d.map]),(0,n.useEffect)((function(){return function(){s.current&&clearTimeout(s.current)}}),[]),{play:g,reset:function(){d.map&&(b(),v(),l.current=1)}}};i.defaultProps={mapId:void 0,zoom:18};const u=i;try{i.displayName="useCameraFollowPath",i.__docgenInfo={description:"Component template",displayName:"useCameraFollowPath",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},pause:{defaultValue:null,description:"",name:"pause",required:!1,type:{name:"boolean | undefined"}},zoom:{defaultValue:{value:"18"},description:"",name:"zoom",required:!1,type:{name:"number | undefined"}},pitch:{defaultValue:null,description:"",name:"pitch",required:!1,type:{name:"number | undefined"}},speed:{defaultValue:null,description:"",name:"speed",required:!1,type:{name:"number | undefined"}},kmPerStep:{defaultValue:null,description:"",name:"kmPerStep",required:!1,type:{name:"number | undefined"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"any"}},stepDuration:{defaultValue:null,description:"",name:"stepDuration",required:!1,type:{name:"number | undefined"}},timeoutId:{defaultValue:null,description:"",name:"timeoutId",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useCameraFollowPath/useCameraFollowPath.tsx#useCameraFollowPath"]={docgenInfo:i.__docgenInfo,name:"useCameraFollowPath",path:"src/hooks/useCameraFollowPath/useCameraFollowPath.tsx#useCameraFollowPath"})}catch(t){}},21384:(t,e,r)=>{r.d(e,{Z:()=>y});var n=r(2784),o=r(61401),a=r(39650),i=r(10477);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=function(t){var e=t.width,r=t.height,n=document.createElement("div");n.className="hidden-map",n.style.width="0px",n.style.height="0px",n.style.overflow="hidden",document.body.appendChild(n);var o=document.createElement("div");o.style.width=e+"px",o.style.height=r+"px",n.appendChild(o);var u=t.map.map.getStyle(),l=function(){var t=u.sources[s];Object.keys(t).forEach((function(e){t[e]||delete t[e]}))};for(var s in u.sources)l();var p=new a.Map({container:o,center:t.map.map.getCenter(),zoom:t.map.map.getZoom(),bearing:0,pitch:0,interactive:!1,preserveDrawingBuffer:!0,fadeDuration:0,attributionControl:!1,style:u}),m=p._cameraForBoxAndBearing([t.bboxUnrotated[0],t.bboxUnrotated[1]],[t.bboxUnrotated[2],t.bboxUnrotated[3]],t.bearing+t.map.map.getBearing());return p._fitInternal(m),new Promise((function(e){console.log("before idle"),p.once("idle",(function(){var r=c(c({},t),{},{renderMap:p,hiddenContainer:n,createPdf:function(e){return function(t){var e=new i.ZP({orientation:"portrait"===(null==t?void 0:t.orientation)?"p":"l",unit:"mm",compress:!0,format:t.format});return Object.defineProperty(window,"devicePixelRatio",{get:function(){return 3.125}}),new Promise((function(r){var n;e.addImage(t.renderMap.getCanvas().toDataURL("image/png"),"png",0,0,e.internal.pageSize.getWidth(),e.internal.pageSize.getHeight(),void 0,"FAST"),t.renderMap.remove(),null===(n=t.hiddenContainer.parentNode)||void 0===n||n.removeChild(t.hiddenContainer);var o=c(c({},t),{},{pdf:e,downloadPdf:function(t){return function(t){return t.pdf.save("Map.pdf"),new Promise((function(e){e(c({},t))}))}(c(c({},o),t))}});r(o)}))}(c(c({},t),{},{renderMap:p,hiddenContainer:n},e))},createPng:function(e){return function(t){return new Promise((function(e){var r=t.renderMap.getCanvas().toDataURL("image/png"),n=c(c({},t),{},{png:r,downloadPng:function(t){return function(t){var e=document.createElement("a");return e.download=null!=t&&t.name?t.name+".png":"map.png",e.href=t.png,document.body.appendChild(e),e.click(),document.body.removeChild(e),new Promise((function(e){e(c({},t))}))}(c(c({},n),t))}});e(n)}))}(c(c({},t),{},{renderMap:p,hiddenContainer:n},e))}});e(r)}))}))};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===m(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){var e=(0,o.Z)({mapId:t.mapId}),r=(0,n.useMemo)((function(){if(e.map)return function(t){return p(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({map:e.map},t))}}),[e.map]);return{createExport:r}}},35314:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(2784),o=(r(11363),r(59584)),a=r.n(o),i=r(61401);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c=function(t){var e=(0,n.useRef)(),r=(0,i.Z)({mapId:t.mapId,waitForLayer:t.insertBeforeLayer}),o=(0,n.useRef)(!1),l=u((0,n.useState)(!1),2),c=l[0],s=l[1],p=u((0,n.useState)(),2),m=p[0],f=p[1],d=(0,n.useCallback)((function(e){console.log("MlFeatureEditor mode change to "+e.mode),"function"==typeof t.onFinish&&"simple_select"===e.mode&&t.onFinish()}),[t.onFinish]);return(0,n.useEffect)((function(){var n;r.map&&!o.current&&(o.current=!0,r.map.map.style&&r.map.map.getSource("mapbox-gl-draw-cold")&&e.current&&(null===(n=e.current)||void 0===n||n.remove()),e.current=new(a())({displayControlsDefault:!1,defaultMode:t.mode||"simple_select",modes:Object.assign({},a().modes)}),r.map.addControl(e.current,"top-left",r.componentId),r.map.on("draw.modechange",d,r.componentId),s(!0))}),[r.map,t,o,d]),(0,n.useEffect)((function(){if(r.map&&c){var n=function(){if(e.current){var r,n,o=null===(r=(n=e.current).getAll)||void 0===r?void 0:r.call(n);f(null==o?void 0:o.features),"function"==typeof t.onChange&&t.onChange(null==o?void 0:o.features)}};return r.map.on("mouseup",n),r.map.on("touchend",n),function(){r.map&&(r.map.map.off("mouseup",n),r.map.map.off("touchend",n))}}}),[c,r.map]),(0,n.useEffect)((function(){var r;e.current&&null!==(r=t.geojson)&&void 0!==r&&r.geometry&&e.current.set({type:"FeatureCollection",features:[t.geojson]})}),[t.geojson,c]),(0,n.useEffect)((function(){var r,n,o,a;t.mode&&e.current&&(null===(r=e.current)||void 0===r||null===(n=r.getMode)||void 0===n?void 0:n.call(r))!==t.mode&&(null===(o=e.current)||void 0===o||null===(a=o.changeMode)||void 0===a||a.call(o,t.mode),"simple_select"!==t.mode&&"direct_select"!==t.mode&&e.current.set({type:"FeatureCollection",features:[]}))}),[t.mode,r.map]),{feature:m,drawToolsReady:c,draw:e.current}};const s=c;try{c.displayName="useFeatureEditor",c.__docgenInfo={description:"GeoJson Feature editor that allows to create or manipulate GeoJson data",displayName:"useFeatureEditor",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},geojson:{defaultValue:null,description:"Input GeoJson data at initialization",name:"geojson",required:!1,type:{name:"Feature<Geometry | GeometryCollection, Properties> | undefined"}},onChange:{defaultValue:null,description:"Callback function that is called each time the GeoJson data within has changed within MlFeatureEditor.\nFirst parameter is the new GeoJson feature.",name:"onChange",required:!1,type:{name:"((para: GeoJSONObject[]) => void) | undefined"}},onFinish:{defaultValue:null,description:"Callback function that is called each time the GeoJson data within has been finished within MlFeatureEditor.\nFirst parameter is the new GeoJson feature.",name:"onFinish",required:!1,type:{name:"(() => void) | undefined"}},mode:{defaultValue:null,description:"Feature editor modes:\n- draw_line_string \n- draw_polygon\n- draw_point\n- simple_select\n- direct_select",name:"mode",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"draw_line_string"'},{value:'"draw_polygon"'},{value:'"draw_point"'},{value:'"simple_select"'},{value:'"direct_select"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useFeatureEditor.tsx#useFeatureEditor"]={docgenInfo:c.__docgenInfo,name:"useFeatureEditor",path:"src/hooks/useFeatureEditor.tsx#useFeatureEditor"})}catch(t){}},19698:(t,e,r)=>{r.d(e,{Z:()=>p});var n=r(2784),o=r(34406);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}const i=function(){var t,e=/\s*/g,n=/^\s*|\s*$/g,i=/\s+/;function u(t){if(!t||!t.length)return 0;for(var e=0,r=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e)|0;return r}function l(t,e){return t.getElementsByTagName(e)}function c(t,e){return t.getAttribute(e)}function s(t,e){return parseFloat(c(t,e))}function p(t,e){var r=l(t,e);return r.length?r[0]:null}function m(t){for(var e=0,r=[];e<t.length;e++)r[e]=parseFloat(t[e]);return r}function f(t){var e;return t&&(e=t).normalize&&e.normalize(),t&&t.textContent||""}function d(t,e){var r,n,o={};for(n=0;n<e.length;n++)(r=p(t,e[n]))&&(o[e[n]]=f(r));return o}function y(t,e){for(var r in e)t[r]=e[r]}function v(t){return m(t.replace(e,"").split(","))}function b(t){for(var e=t.replace(n,"").split(i),r=[],o=0;o<e.length;o++)r.push(v(e[o]));return r}function g(t){var e,r=[s(t,"lon"),s(t,"lat")],n=p(t,"ele"),o=p(t,"gpxtpx:hr")||p(t,"hr"),a=p(t,"time");return n&&(e=parseFloat(f(n)),isNaN(e)||r.push(e)),{coordinates:r,time:a?f(a):null,heartRate:o?parseFloat(f(o)):null}}if("undefined"!=typeof XMLSerializer)t=new XMLSerializer;else{var h="object"===(void 0===o?"undefined":a(o))&&!o.browser,S="object"===("undefined"==typeof Titanium?"undefined":a(Titanium));if("object"!==("undefined"==typeof exports?"undefined":a(exports))||!h&&!S)throw new Error("Unable to initialize serializer");t=new(r(58044).XMLSerializer)}function w(e){return void 0!==e.xml?e.xml:t.serializeToString(e)}return{kml:function(t){for(var e={type:"FeatureCollection",features:[]},r={},n={},o={},a=["Polygon","LineString","Point","Track","gx:Track"],i=l(t,"Placemark"),s=l(t,"Style"),d=l(t,"StyleMap"),y=0;y<s.length;y++){var g=u(w(s[y])).toString(16);r["#"+c(s[y],"id")]=g,n[g]=s[y]}for(var h=0;h<d.length;h++){r["#"+c(d[h],"id")]=u(w(d[h])).toString(16);for(var S=l(d[h],"Pair"),O={},E=0;E<S.length;E++)O[f(p(S[E],"key"))]=f(p(S[E],"styleUrl"));o["#"+c(d[h],"id")]=O}for(var x=0;x<i.length;x++)e.features=e.features.concat(A(i[x]));function j(t){var e,r;return"#"===(t=t||"").substr(0,1)&&(t=t.substr(1)),6!==t.length&&3!==t.length||(e=t),8===t.length&&(r=parseInt(t.substr(0,2),16)/255,e="#"+t.substr(6,2)+t.substr(4,2)+t.substr(2,2)),[e,isNaN(r)?void 0:r]}function I(t){var e=l(t,"coord"),r=[],n=[];0===e.length&&(e=l(t,"gx:coord"));for(var o=0;o<e.length;o++)r.push(m(f(e[o]).split(" ")));for(var a=l(t,"when"),i=0;i<a.length;i++)n.push(f(a[i]));return{coords:r,times:n}}function P(t){var e,r,n,o,i,u=[],c=[];if(p(t,"MultiGeometry"))return P(p(t,"MultiGeometry"));if(p(t,"MultiTrack"))return P(p(t,"MultiTrack"));if(p(t,"gx:MultiTrack"))return P(p(t,"gx:MultiTrack"));for(n=0;n<a.length;n++)if(r=l(t,a[n]))for(o=0;o<r.length;o++)if(e=r[o],"Point"===a[n])u.push({type:"Point",coordinates:v(f(p(e,"coordinates")))});else if("LineString"===a[n])u.push({type:"LineString",coordinates:b(f(p(e,"coordinates")))});else if("Polygon"===a[n]){var s=l(e,"LinearRing"),m=[];for(i=0;i<s.length;i++)m.push(b(f(p(s[i],"coordinates"))));u.push({type:"Polygon",coordinates:m})}else if("Track"===a[n]||"gx:Track"===a[n]){var d=I(e);u.push({type:"LineString",coordinates:d.coords}),d.times.length&&c.push(d.times)}return{geoms:u,coordTimes:c}}function A(t){var e,a=P(t),i={},u=f(p(t,"name")),s=f(p(t,"address")),m=f(p(t,"styleUrl")),d=f(p(t,"description")),y=p(t,"TimeSpan"),v=p(t,"TimeStamp"),b=p(t,"ExtendedData"),g=p(t,"LineStyle"),h=p(t,"PolyStyle"),S=p(t,"visibility");if(!a.geoms.length)return[];if(u&&(i.name=u),s&&(i.address=s),m){"#"!==m[0]&&(m="#"+m),i.styleUrl=m,r[m]&&(i.styleHash=r[m]),o[m]&&(i.styleMapHash=o[m],i.styleHash=r[o[m].normal]);var w=n[i.styleHash];if(w){g||(g=p(w,"LineStyle")),h||(h=p(w,"PolyStyle"));var O=p(w,"IconStyle");if(O){var E=p(O,"Icon");if(E){var x=f(p(E,"href"));x&&(i.icon=x)}}}}if(d&&(i.description=d),y){var I=f(p(y,"begin")),A=f(p(y,"end"));i.timespan={begin:I,end:A}}if(v&&(i.timestamp=f(p(v,"when"))),g){var C=j(f(p(g,"color"))),L=C[0],k=C[1],Z=parseFloat(f(p(g,"width")));L&&(i.stroke=L),isNaN(k)||(i["stroke-opacity"]=k),isNaN(Z)||(i["stroke-width"]=Z)}if(h){var T=j(f(p(h,"color"))),_=T[0],R=T[1],M=f(p(h,"fill")),B=f(p(h,"outline"));_&&(i.fill=_),isNaN(R)||(i["fill-opacity"]=R),M&&(i["fill-opacity"]="1"===M?i["fill-opacity"]||1:0),B&&(i["stroke-opacity"]="1"===B?i["stroke-opacity"]||1:0)}if(b){var F=l(b,"Data"),N=l(b,"SimpleData");for(e=0;e<F.length;e++)i[F[e].getAttribute("name")]=f(p(F[e],"value"));for(e=0;e<N.length;e++)i[N[e].getAttribute("name")]=f(N[e])}S&&(i.visibility=f(S)),a.coordTimes.length&&(i.coordTimes=1===a.coordTimes.length?a.coordTimes[0]:a.coordTimes);var z={type:"Feature",geometry:1===a.geoms.length?a.geoms[0]:{type:"GeometryCollection",geometries:a.geoms},properties:i};return c(t,"id")&&(z.id=c(t,"id")),[z]}return e},gpx:function(t){var e,r,n,o,a=l(t,"trk"),i=l(t,"rte"),u=l(t,"wpt"),s={type:"FeatureCollection",features:[]};for(e=0;e<a.length;e++)(r=b(a[e]))&&s.features.push(r);for(e=0;e<i.length;e++)(r=h(i[e]))&&s.features.push(r);for(e=0;e<u.length;e++)s.features.push((n=u[e],o=void 0,y(o=w(n),d(n,["sym"])),{type:"Feature",properties:o,geometry:{type:"Point",coordinates:g(n).coordinates}}));function m(t,e){for(var r=0;r<e;r++)t.push(null);return t}function v(t,e){var r=l(t,e),n=[],o=[],a=[],i=r.length;if(i<2)return{};for(var u=0;u<i;u++){var c=g(r[u]);n.push(c.coordinates),c.time&&o.push(c.time),(c.heartRate||a.length)&&(a.length||m(a,u),a.push(c.heartRate||null))}return{line:n,times:o,heartRates:a}}function b(t){for(var e,r=l(t,"trkseg"),n=[],o=[],a=[],i=0;i<r.length;i++)if((e=v(r[i],"trkpt"))&&(e.line&&n.push(e.line),e.times&&e.times.length&&o.push(e.times),a.length||e.heartRates&&e.heartRates.length)){if(!a.length)for(var u=0;u<i;u++)a.push(m([],n[u].length));e.heartRates&&e.heartRates.length?a.push(e.heartRates):a.push(m([],e.line.length||0))}if(0!==n.length){var c=w(t);return y(c,S(p(t,"extensions"))),o.length&&(c.coordTimes=1===n.length?o[0]:o),a.length&&(c.heartRates=1===n.length?a[0]:a),{type:"Feature",properties:c,geometry:{type:1===n.length?"LineString":"MultiLineString",coordinates:1===n.length?n[0]:n}}}}function h(t){var e=v(t,"rtept");if(e.line){var r=w(t);return y(r,S(p(t,"extensions"))),{type:"Feature",properties:r,geometry:{type:"LineString",coordinates:e.line}}}}function S(t){var e={};if(t){var r=p(t,"line");if(r){var n=f(p(r,"color")),o=parseFloat(f(p(r,"opacity"))),a=parseFloat(f(p(r,"width")));n&&(e.stroke=n),isNaN(o)||(e["stroke-opacity"]=o),isNaN(a)||(e["stroke-width"]=96*a/25.4)}}return e}function w(t){var e=d(t,["name","cmt","desc","type","time","keywords"]),r=l(t,"link");r.length&&(e.links=[]);for(var n,o=0;o<r.length;o++)y(n={href:c(r[o],"href")},d(r[o],["text","type"])),e.links.push(n);return e}return s}}}();function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=function(t){var e=u((0,n.useState)(),2),r=e[0],o=e[1],a=u((0,n.useState)([]),2),s=a[0],p=a[1];return(0,n.useEffect)((function(){t.data&&function(t){try{p([]);var e=(new DOMParser).parseFromString(t,"application/xml"),r=e.querySelector("metadata");null==r||r.childNodes.forEach((function(t){var e,r=t.textContent,n=t.nodeName;if("link"===t.nodeName&&(r=t.getAttribute("href")),null!==(e=r)&&void 0!==e&&e.trim().length){var o={title:n,value:r,id:(new Date).getTime()};p((function(t){return[].concat(function(t){if(Array.isArray(t))return c(t)}(e=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]);var e}))}}));var n=i.gpx(e);o(n)}catch(t){console.log(t)}}(t.data)}),[t.data]),{geojson:r,metadata:s}};s.defaultProps={data:void 0};const p=s;try{s.displayName="useGpx",s.__docgenInfo={description:"useGpx hook converts GPX data to GeoJSON",displayName:"useGpx",props:{data:{defaultValue:{value:"undefined"},description:"a string containing GPX data that is supposed to be parsed and converted to GeoJSON by this hook",name:"data",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useGpx/useGpx.tsx#useGpx"]={docgenInfo:s.__docgenInfo,name:"useGpx",path:"src/hooks/useGpx/useGpx.tsx#useGpx"})}catch(t){}},47415:(t,e,r)=>{r.d(e,{Z:()=>m});var n=r(2784),o=r(61401);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","hillshade","background"];function p(t){var e,r,a=(0,o.Z)({mapId:t.mapId,waitForLayer:t.insertBeforeLayer}),i=(0,n.useRef)(""),l=(0,n.useRef)(""),p=(0,n.useRef)(""),m=(e=(0,n.useState)(),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(e,r)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=m[0],d=m[1],y=(0,n.useRef)(!1),v=(0,n.useRef)(t.layerId||(t.idPrefix?t.idPrefix:"Layer-")+a.componentId),b=(0,n.useCallback)((function(){var e,r;if(a.map&&(null==a||!a.map.cancelled)&&(a.map.map.getLayer(v.current)&&a.cleanup(),a.map.map.getSource(v.current)&&a.map.map.removeSource(v.current),("string"!=typeof t.options.source||""!==t.options.source&&a.map.map.getSource(t.options.source))&&void 0!==t.options.type)){y.current=!0;try{var n,o,c,s,m,f,g,h;a.map.addLayer(u(u(u(u({},t.options),!t.geojson||null!==(n=t.options)&&void 0!==n&&n.source&&(null===(o=t.options)||void 0===o||null===(c=o.source)||void 0===c||!c.attribution||null!==(s=t.options)&&void 0!==s&&null!==(m=s.source)&&void 0!==m&&m.type)?{}:{source:{type:"geojson",data:t.geojson,attribution:null!==(f=t.options.source)&&void 0!==f&&f.attribution?null===(g=t.options.source)||void 0===g?void 0:g.attribution:""}}),"string"==typeof(null===(h=t.options)||void 0===h?void 0:h.source)?{source:t.options.source}:{}),{},{id:v.current}),t.insertBeforeLayer?t.insertBeforeLayer:t.insertBeforeFirstSymbolLayer?a.map.firstSymbolLayer:void 0,a.componentId)}catch(t){console.log(t)}d((function(){var t;return null===(t=a.map)||void 0===t?void 0:t.map.getLayer(v.current)})),void 0!==t.onHover&&a.map.on("mousemove",v.current,t.onHover,a.componentId),void 0!==t.onClick&&a.map.on("click",v.current,t.onClick,a.componentId),void 0!==t.onLeave&&a.map.on("mouseleave",v.current,t.onLeave,a.componentId),a.map.on("styledata",(function(){var t;!y.current||null!==(t=a.map)&&void 0!==t&&t.map.getLayer(v.current)||(console.log("Recreate Layer"),b())}),a.componentId),l.current=JSON.stringify(null===(e=t.options)||void 0===e?void 0:e.paint),p.current=JSON.stringify(null===(r=t.options)||void 0===r?void 0:r.layout),i.current=t.options.type}}),[t,a.map]);return(0,n.useEffect)((function(){var e,r,n,o;a.map&&(!1===(null===(e=a.map)||void 0===e?void 0:e.cancelled)&&y.current&&null!=a&&null!==(r=a.map)&&void 0!==r&&null!==(n=r.map)&&void 0!==n&&null!==(o=n.getLayer)&&void 0!==o&&o.call(n,v.current)&&(-1===s.indexOf(t.options.type)||-1!==s.indexOf(t.options.type)&&t.options.type===i.current)||b())}),[a.map,t.options,b]),(0,n.useEffect)((function(){var e,r,n,o,i,u;!0!==(null===(e=a.map)||void 0===e?void 0:e.cancelled)&&y.current&&null!==(r=a.map)&&void 0!==r&&null!==(n=r.map)&&void 0!==n&&null!==(o=n.getSource)&&void 0!==o&&o.call(n,v.current)&&(null===(i=a.map.map.getSource(v.current))||void 0===i||null===(u=i.setData)||void 0===u||u.call(i,t.geojson))}),[t.geojson,a.map,t.options.type]),(0,n.useEffect)((function(){var e,r,n,o;if(!0!==(null===(e=a.map)||void 0===e?void 0:e.cancelled)&&a.map&&null!==(r=a.map)&&void 0!==r&&null!==(n=r.map)&&void 0!==n&&null!==(o=n.getLayer)&&void 0!==o&&o.call(n,v.current)&&y.current&&t.options.type===i.current){var u,c=JSON.stringify(t.options.layout);if(t.options.layout&&c!==p.current){var s=JSON.parse(p.current);for(u in t.options.layout){var m;null!==(m=t.options.layout)&&void 0!==m&&m[u]&&t.options.layout[u]!==s[u]&&a.map.map.setLayoutProperty(v.current,u,t.options.layout[u])}p.current=c}var f=JSON.stringify(t.options.paint);if(f!==l.current){var d=JSON.parse(l.current);for(u in t.options.paint){var b;null!==(b=t.options.paint)&&void 0!==b&&b[u]&&t.options.paint[u]!==d[u]&&a.map.map.setPaintProperty(v.current,u,t.options.paint[u])}l.current=f}}}),[t.options,a.map]),(0,n.useEffect)((function(){t.insertBeforeLayer&&a.map&&a.map.getLayer(t.insertBeforeLayer)&&a.map.getLayer(v.current)&&a.map.moveLayer(v.current,t.insertBeforeLayer)}),[a.map,t.insertBeforeLayer]),(0,n.useEffect)((function(){return function(){y.current=!1,a.cleanup()}}),[]),{map:a.map,layer:f,layerId:v.current,componentId:a.componentId,mapHook:a}}p.defaultProps={};const m=p},68065:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(2784),o=r(4100);const a=function(){return(0,n.useContext)(o.Z)}},78951:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(2784),o=r(61401);const a=function(t){var e=(0,o.Z)({mapId:t.mapId});return(0,n.useEffect)((function(){if(e.map&&t.layerId&&t.filter&&e.map.map.getLayer(t.layerId)){var r=t.layerId;return e.map.map.setFilter(r,t.filter),function(){e.map&&e.map.map.setFilter(r,null)}}}),[t,e.map]),{}}},29347:(t,e,r)=>{r.d(e,{Z:()=>u});var n=r(2784),o=r(61401),a=r(39650),i=function(t){var e=(0,o.Z)({mapId:t.mapId,waitForLayer:t.layerId}),r=(0,n.useRef)(new a.Popup({closeButton:!1,closeOnClick:!0}));return(0,n.useEffect)((function(){e.map&&t.layerId&&e.map.on("mouseenter",t.layerId,(function(n){var o,a;if(e.map){var i=null==n||null===(o=n.features)||void 0===o?void 0:o[0].geometry.coordinates.slice(),u="";if(null!=n&&null!==(a=n.features)&&void 0!==a&&a[0]&&"function"==typeof t.getPopupContent&&(u=t.getPopupContent(n.features[0])),null!=i&&i[0]){for(;Math.abs(n.lngLat.lng-i[0])>180;)i[0]+=n.lngLat.lng>i[0]?360:-360;r.current.setLngLat(i).setHTML(u).addTo(e.map.map)}}}),e.componentId)}),[e.map]),n.createElement(n.Fragment,null)};i.defaultProps={mapId:void 0};const u=i;try{i.displayName="useLayerHoverPopup",i.__docgenInfo={description:"useLayerHoverPopup hook registers a mouseenter event to display feature properties in a MapLibre popup if a feature on the configured layer is hovered",displayName:"useLayerHoverPopup",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"Id of an existing layer in the mapLibre instance this event will be registered to",name:"layerId",required:!1,type:{name:"string | undefined"}},getPopupContent:{defaultValue:null,description:"",name:"getPopupContent",required:!0,type:{name:"(feature: GeoJSONFeature) => string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useLayerHoverPopup/useLayerHoverPopup.tsx#useLayerHoverPopup"]={docgenInfo:i.__docgenInfo,name:"useLayerHoverPopup",path:"src/hooks/useLayerHoverPopup/useLayerHoverPopup.tsx#useLayerHoverPopup"})}catch(t){}},61401:(t,e,r)=>{r.d(e,{Z:()=>c});var n=r(2784),o=r(91004),a=r(27367),i=r(57058);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const c=function(t){var e=(0,n.useContext)(a.Z),r=u((0,n.useState)(),2),l=r[0],c=r[1],s=(0,i.Z)({mapId:null==t?void 0:t.mapId,watch:{viewport:!1,layers:!(null==t||!t.waitForLayer),sources:!1},filter:{includeBaseLayers:!0}}),p=(0,n.useRef)(),m=(0,n.useRef)((0,o.Z)()),f=u((0,n.useState)(!1),2),d=f[0],y=f[1],v=function(){p.current&&p.current.cleanup(m.current)};return(0,n.useEffect)((function(){return function(){v(),y(!1),p.current=void 0}}),[]),(0,n.useEffect)((function(){if(p.current&&!0===p.current.cancelled&&(p.current=void 0,c(void 0),y(!1)),!p.current&&e.mapExists(null==t?void 0:t.mapId)){if(null!=t&&t.waitForLayer){var r,n=!1;if(null==s||null===(r=s.layers)||void 0===r||r.forEach((function(e){e.id===(null==t?void 0:t.waitForLayer)&&(n=!0)})),!n)return}p.current=e.getMap(null==t?void 0:t.mapId),c(p.current),y(!0)}}),[e.mapIds,s.layers,e,t]),{map:l,mapIsReady:d,componentId:m.current,layers:s.layers,cleanup:v}}},57058:(t,e,r)=>{r.d(e,{Z:()=>p});var n=r(2784),o=r(13980),a=r.n(o),i=r(91004),u=r(27367);function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t){var e=(0,n.useContext)(u.Z),r=(0,n.useRef)(!1),o=(0,n.useRef)(),a=l((0,n.useState)(),2),c=a[0],s=a[1],p=(0,n.useRef)(void 0),m=l((0,n.useState)([]),2),f=m[0],d=m[1],y=(0,n.useRef)(),v=(0,n.useRef)((0,i.Z)()),b=(0,n.useCallback)((function(e){var r,n;return!(!(null!=t&&null!==(r=t.filter)&&void 0!==r&&r.includeBaseLayers||null==e)&&e.baseLayer)&&(void 0===(null===(n=t.filter)||void 0===n?void 0:n.matchLayerIds)||(t.filter.matchLayerIds instanceof RegExp?t.filter.matchLayerIds.test(e.id):e.id.includes(t.filter.matchLayerIds)))}),[t.filter]),g=(0,n.useCallback)((function(){if(o.current){var t=o.current.wrapper.layerState.filter(b),e=JSON.stringify(t);y.current!==e&&(y.current=e,d(t))}}),[b]);return(0,n.useEffect)((function(){var t=v.current;return function(){o.current&&(o.current.cleanup(t),o.current=void 0),r.current=!1}}),[]),(0,n.useEffect)((function(){var n,a,i,u;e.mapExists(t.mapId)&&!r.current&&(r.current=!0,o.current=e.getMap(t.mapId),o.current?(null!=t&&null!==(n=t.watch)&&void 0!==n&&n.viewport&&(s(o.current.wrapper.viewportState),o.current.wrapper.on("viewportchange",(function(){var t,e;p.current!==(null===(t=o.current)||void 0===t?void 0:t.wrapper.viewportStateString)&&s(null===(e=o.current)||void 0===e?void 0:e.wrapper.viewportState)}),v.current)),null!=t&&null!==(a=t.watch)&&void 0!==a&&a.layers&&(g(),o.current.wrapper.on("layerchange",g,{includeBaseLayers:null==t||null===(i=t.filter)||void 0===i?void 0:i.includeBaseLayers,matchLayerIds:null==t||null===(u=t.filter)||void 0===u?void 0:u.matchLayerIds},v.current))):r.current=!1)}),[e.mapIds,e,t.mapId,g,t]),{layers:f,viewport:c}}s.defaultProps={mapId:void 0,watch:{layers:!0,sources:!1,viewport:!1},filter:{includeBaseLayers:!1}},s.propTypes={mapId:a().string,watch:a().shape({layers:a().bool,sources:a().bool,viewport:a().bool}),filter:a().shape({includeBaseLayers:a().bool,matchLayerIds:a().oneOfType([a().string,a().instanceOf(RegExp)]),matchSourceIds:a().oneOfType([a().string,a().instanceOf(RegExp)])})};const p=s},5284:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(2784),o=r(61401);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const s=function(t){var e,r=(0,o.Z)({mapId:t.mapId}),a=(0,n.useRef)(!1),c=l((0,n.useState)(),2),s=c[0],p=c[1],m=(0,n.useRef)(t.sourceId||(t.idPrefix?t.idPrefix:"Source-")+r.componentId),f=(0,n.useCallback)((function(){var e;r.map&&(a.current=!0,r.map.map.getSource(m.current)&&r.cleanup(),null===(e=r.map)||void 0===e||e.addSource(m.current,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t.source),r.componentId),p(r.map.map.getSource(m.current)))}),[t,r.map]);return(0,n.useEffect)((function(){r.map&&!a.current&&f()}),[r.map,t,f]),(0,n.useEffect)((function(){var e,n,o,i;a.current&&null!==(e=r.map)&&void 0!==e&&null!==(n=e.map)&&void 0!==n&&n.getSource(t.sourceId)&&(null===(o=r.map.map.getSource(t.sourceId))||void 0===o||null===(i=o.setData)||void 0===i||i.call(o,t.source.data))}),[null===(e=t.source)||void 0===e?void 0:e.data]),(0,n.useEffect)((function(){return function(){var t,e,n;if(a.current=!1,r.map&&null!==(t=r.map)&&void 0!==t&&null!==(e=t.map)&&void 0!==e&&null!==(n=e.style)&&void 0!==n&&n._layers){for(var o=0,i=Object.entries(r.map.map.style._layers);o<i.length;o++){var u=l(i[o],2),c=u[0];u[1].source===m.current&&r.map.map.removeLayer(c)}r.map.map.removeSource(m.current)}}}),[r.map]),{map:r.map,source:s,componentId:r.componentId,mapHook:r}}},18656:(t,e,r)=>{r.d(e,{Z:()=>m});var n=r(2784),o=r(77823);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t){var e=c((0,n.useState)(),2),r=e[0],a=e[1],i=c((0,n.useState)(t.url),2),l=i[0],s=i[1],p=c((0,n.useState)(""),2),m=p[0],f=p[1],d=c((0,n.useState)(),2),y=d[0],v=d[1],b=c((0,n.useState)(),2),g=b[0],h=b[1],S=function(){a(void 0),v(void 0),f("")};return(0,n.useEffect)((function(){var e;if(S(),h(void 0),l){var r,n=l;-1!==l.indexOf("?")&&(n=(r=l.split("?"))[0]);var a=new URLSearchParams(null===(e=r)||void 0===e?void 0:e[1]),i=u(u({},Object.fromEntries(a)),t.urlParameters),c=new URLSearchParams(i),s=decodeURIComponent(c.toString())+"".replace(/%2F/g,"/").replace(/%3A/g,":");fetch(n+"?"+s).then((function(t){if(t.ok)return t.text();throw Error(t.statusText+" ("+t.status+" - "+t.type+")")})).then((function(t){v(new o.Z(t,window.DOMParser).toJSON())})).catch((function(t){S(),console.log(t),h(t.message)}))}}),[l,t.urlParameters]),(0,n.useEffect)((function(){var t,e,r,n,o,i,u,l,c,s,p,m,d,v;null!=y&&y.Service&&(f(null===(t=y.Capability)||void 0===t||null===(e=t.Request)||void 0===e||null===(r=e.GetMap)||void 0===r||null===(n=r.DCPType)||void 0===n||null===(o=n[0])||void 0===o||null===(i=o.HTTP)||void 0===i||null===(u=i.Get)||void 0===u?void 0:u.OnlineResource),a(null===(l=y.Capability)||void 0===l||null===(c=l.Request)||void 0===c||null===(s=c.GetFeatureInfo)||void 0===s||null===(p=s.DCPType)||void 0===p||null===(m=p[0])||void 0===m||null===(d=m.HTTP)||void 0===d||null===(v=d.Get)||void 0===v?void 0:v.OnlineResource))}),[y]),{capabilities:y,getFeatureInfoUrl:r,wmsUrl:m,error:g,setUrl:s}}p.defaultProps={url:"",urlParameters:{SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetCapabilities"}};const m=p},54524:(t,e,r)=>{r.d(e,{vm:()=>o.Z,tw:()=>n.t,X$:()=>n.Z,bQ:()=>a.Z}),r(17383),r(10733),r(66822),r(76831),r(23636),r(1201),r(47856),r(73142),r(21526),r(53943),r(52668),r(6295),r(7443),r(2173),r(78482),r(45962),r(84405),r(285),r(83377),r(15328),r(39519),r(68299),r(84920),r(41588),r(76816),r(34108),r(61232),r(61382),r(6050),r(48904),r(71022),r(47281),r(70292),r(8842),r(80006),r(93288),r(23884),r(86587),r(21384),r(19698),r(78951),r(29347),r(47415),r(2784),r(57058),r(61401);Object.keys({mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"}),r(5284),r(18656),r(73313),r(68065),r(35314);var n=r(27367),o=(r(63904),r(18756),r(4100),r(635),r(49787),r(91751),r(29927),r(38292),r(56166),r(78862)),a=(r(53400),r(48801),r(37325),r(2949),r(77690),r(25118),r(86104),r(42962),r(96356),r(48082),r(4338),r(36322),r(80702),r(41057),r(31100),r(28237));r(40754),r(1483)}}]);